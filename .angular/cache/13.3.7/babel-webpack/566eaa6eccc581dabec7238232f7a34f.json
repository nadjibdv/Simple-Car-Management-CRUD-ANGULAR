{"ast":null,"code":"import _asyncToGenerator from \"H:\\\\code\\\\RECORDP\\\\ANGULAR\\\\Project CarWebApi\\\\CarProject1\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class ServicepersonService {\n  constructor(httpP, router) {\n    this.httpP = httpP;\n    this.router = router;\n    this.url = \"https://localhost:44377/api/\";\n  }\n\n  getAllPerson() {\n    this.httpP.get(this.url + \"person\").toPromise().then(res => {\n      this.people = res;\n    });\n    console.log(\" ------- GET PERSON ---------\");\n    console.log(this.findPerson({\n      id: '3'\n    }));\n  }\n\n  addPerson(newPerson) {\n    const headers = {\n      'content-type': 'application/json'\n    };\n    const body = JSON.stringify(newPerson);\n    this.httpP.post(this.url + \"person\", body, {\n      'headers': headers\n    }).toPromise().then(r => {\n      this.router.navigate(['person']);\n    });\n  }\n\n  editPerson(id, updatePerson) {\n    const headers = {\n      'content-type': 'application/json'\n    };\n    const body = JSON.stringify(updatePerson);\n    this.httpP.put(this.url + \"person/\" + id, body, {\n      'headers': headers\n    }).toPromise();\n  }\n\n  deletePerson(id) {\n    const headers = {\n      'content-type': 'application/json'\n    };\n    this.httpP.delete(this.url + \"person/\" + id).toPromise();\n  }\n\n  findPerson({\n    id\n  }) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.httpP.get(_this.url + \"person/\" + id).toPromise().then(res => {\n        var pp;\n        pp = res;\n        console.log(\" =============== GET 1 ================== \");\n        console.log(res);\n        return pp[0];\n      });\n    })();\n  }\n\n}\n\nServicepersonService.ɵfac = function ServicepersonService_Factory(t) {\n  return new (t || ServicepersonService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\n\nServicepersonService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ServicepersonService,\n  factory: ServicepersonService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["H:/code/RECORDP/ANGULAR/Project CarWebApi/CarProject1/src/app/models/serviceperson.service.ts"],"names":["i0","i1","i2","ServicepersonService","constructor","httpP","router","url","getAllPerson","get","toPromise","then","res","people","console","log","findPerson","id","addPerson","newPerson","headers","body","JSON","stringify","post","r","navigate","editPerson","updatePerson","put","deletePerson","delete","pp","ɵfac","ServicepersonService_Factory","t","ɵɵinject","HttpClient","Router","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/router\";\r\nexport class ServicepersonService {\r\n    constructor(httpP, router) {\r\n        this.httpP = httpP;\r\n        this.router = router;\r\n        this.url = \"https://localhost:44377/api/\";\r\n    }\r\n    getAllPerson() {\r\n        this.httpP.get(this.url + \"person\").toPromise().then(res => {\r\n            this.people = res;\r\n        });\r\n        console.log(\" ------- GET PERSON ---------\");\r\n        console.log(this.findPerson({ id: '3' }));\r\n    }\r\n    addPerson(newPerson) {\r\n        const headers = { 'content-type': 'application/json' };\r\n        const body = JSON.stringify(newPerson);\r\n        this.httpP.post(this.url + \"person\", body, { 'headers': headers }).toPromise().then(r => {\r\n            this.router.navigate(['person']);\r\n        });\r\n    }\r\n    editPerson(id, updatePerson) {\r\n        const headers = { 'content-type': 'application/json' };\r\n        const body = JSON.stringify(updatePerson);\r\n        this.httpP.put(this.url + \"person/\" + id, body, { 'headers': headers }).toPromise();\r\n    }\r\n    deletePerson(id) {\r\n        const headers = { 'content-type': 'application/json' };\r\n        this.httpP.delete(this.url + \"person/\" + id).toPromise();\r\n    }\r\n    async findPerson({ id }) {\r\n        await this.httpP.get(this.url + \"person/\" + id).toPromise().then(res => {\r\n            var pp;\r\n            pp = res;\r\n            console.log(\" =============== GET 1 ================== \");\r\n            console.log(res);\r\n            return pp[0];\r\n        });\r\n    }\r\n}\r\nServicepersonService.ɵfac = function ServicepersonService_Factory(t) { return new (t || ServicepersonService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router)); };\r\nServicepersonService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ServicepersonService, factory: ServicepersonService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}