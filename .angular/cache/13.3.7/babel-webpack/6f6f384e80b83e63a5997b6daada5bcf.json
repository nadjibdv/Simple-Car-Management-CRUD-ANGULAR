{"ast":null,"code":"import _asyncToGenerator from \"H:\\\\code\\\\RECORDP\\\\ANGULAR\\\\Project CarWebApi\\\\CarProject1\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class ServicecarService {\n  constructor(httpP, router) {\n    this.httpP = httpP;\n    this.router = router;\n    this.url = \"https://localhost:44377/api/\";\n  }\n\n  getAllCars() {\n    this.httpP.get(\"https://localhost:44377/api/car\").toPromise().then(res => {\n      this.carsall = res;\n      console.log(\"---------- CAR -----------\");\n      console.log(res);\n    });\n  }\n\n  getUrlImage(filename) {\n    return this.url.replace(\"api/\", \"\") + \"images/\" + filename;\n  }\n\n  getCar(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this.httpP.get(_this.url + \"car/\" + id).toPromise().then(res => {\n        return res;\n      });\n    })();\n  }\n\n  addCar(newCar) {\n    const headers = {\n      'content-type': 'application/json'\n    };\n    const body = JSON.stringify(newCar);\n    this.httpP.post(this.url + \"car\", body, {\n      'headers': headers\n    }).toPromise().then(r => {\n      this.router.navigate(['car']);\n    });\n  }\n\n  editCar(id, updatePerson) {\n    const headers = {\n      'content-type': 'application/json'\n    };\n    const body = JSON.stringify(updatePerson);\n    this.httpP.put(this.url + \"car/\" + id, body, {\n      'headers': headers\n    }).toPromise();\n    this.router.navigate(['car']);\n  }\n\n  deleteCar(id) {\n    this.httpP.delete(this.url + \"car/\" + id).toPromise();\n    this.router.navigate(['car']);\n  }\n\n}\n\nServicecarService.ɵfac = function ServicecarService_Factory(t) {\n  return new (t || ServicecarService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\n\nServicecarService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ServicecarService,\n  factory: ServicecarService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["H:/code/RECORDP/ANGULAR/Project CarWebApi/CarProject1/src/app/models/servicecar.service.ts"],"names":["i0","i1","i2","ServicecarService","constructor","httpP","router","url","getAllCars","get","toPromise","then","res","carsall","console","log","getUrlImage","filename","replace","getCar","id","addCar","newCar","headers","body","JSON","stringify","post","r","navigate","editCar","updatePerson","put","deleteCar","delete","ɵfac","ServicecarService_Factory","t","ɵɵinject","HttpClient","Router","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/router\";\r\nexport class ServicecarService {\r\n    constructor(httpP, router) {\r\n        this.httpP = httpP;\r\n        this.router = router;\r\n        this.url = \"https://localhost:44377/api/\";\r\n    }\r\n    getAllCars() {\r\n        this.httpP.get(\"https://localhost:44377/api/car\").toPromise().then(res => {\r\n            this.carsall = res;\r\n            console.log(\"---------- CAR -----------\");\r\n            console.log(res);\r\n        });\r\n    }\r\n    getUrlImage(filename) {\r\n        return this.url.replace(\"api/\", \"\") + \"images/\" + filename;\r\n    }\r\n    async getCar(id) {\r\n        return await this.httpP.get(this.url + \"car/\" + id).toPromise().then(res => {\r\n            return res;\r\n        });\r\n    }\r\n    addCar(newCar) {\r\n        const headers = { 'content-type': 'application/json' };\r\n        const body = JSON.stringify(newCar);\r\n        this.httpP.post(this.url + \"car\", body, { 'headers': headers }).toPromise().then(r => {\r\n            this.router.navigate(['car']);\r\n        });\r\n    }\r\n    editCar(id, updatePerson) {\r\n        const headers = { 'content-type': 'application/json' };\r\n        const body = JSON.stringify(updatePerson);\r\n        this.httpP.put(this.url + \"car/\" + id, body, { 'headers': headers }).toPromise();\r\n        this.router.navigate(['car']);\r\n    }\r\n    deleteCar(id) {\r\n        this.httpP.delete(this.url + \"car/\" + id).toPromise();\r\n        this.router.navigate(['car']);\r\n    }\r\n}\r\nServicecarService.ɵfac = function ServicecarService_Factory(t) { return new (t || ServicecarService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router)); };\r\nServicecarService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ServicecarService, factory: ServicecarService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}