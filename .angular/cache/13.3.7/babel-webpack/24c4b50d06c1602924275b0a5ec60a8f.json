{"ast":null,"code":"import _asyncToGenerator from \"H:\\\\code\\\\RECORDP\\\\ANGULAR\\\\Project CarWebApi\\\\CarProject1\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FormControl } from '@angular/forms';\nimport { Car } from '../models/car';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../models/serviceperson.service\";\nimport * as i2 from \"../models/servicecar.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction CarEditComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pr_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", pr_r1.person_ID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pr_r1.person_FName + \" \" + pr_r1.person_LName);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/cars\"];\n};\n\nexport class CarEditComponent {\n  constructor(servicePerson1, serviceCar1, router, route) {\n    this.servicePerson1 = servicePerson1;\n    this.serviceCar1 = serviceCar1;\n    this.router = router;\n    this.route = route;\n    this.car_ImageUrl = new FormControl('');\n    this.car_ID = new FormControl('');\n    this.car_Name = new FormControl('');\n    this.car_Plate = new FormControl('');\n    this.person_ID = new FormControl('');\n    this.person_IDold = \"\";\n    this.car_ImageUrlold = \"\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    this.serviceCar1.getPersonA();\n    this.route.paramMap.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (p) {\n        const upCar = yield _this.serviceCar1.getCar(p.get('id'));\n        yield console.log(upCar.car_ID);\n\n        _this.car_ID.setValue(upCar.car_ID);\n\n        _this.car_Name.setValue(upCar.car_Name);\n\n        _this.car_Plate.setValue(upCar.car_Plate);\n\n        _this.car_ImageUrlold = upCar.car_ImageUrl; //this.car_ImageUrl.setValue((await upCar).car_ImageUrl)\n\n        _this.person_IDold = upCar.person_ID; //this.person_ID.setValue((await upCar).person_ID)\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  onClickEdit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var car_ImageUrlFin;\n\n      var filename = _this2.car_ImageUrl.value.replace(/^.*[\\\\\\/]/, '');\n\n      if (filename.length == 0) {\n        car_ImageUrlFin = _this2.car_ImageUrlold;\n      } else {\n        car_ImageUrlFin = filename;\n      }\n\n      var newCar = new Car(Number(_this2.car_ID.value), _this2.car_Name.value, _this2.car_Plate.value, car_ImageUrlFin, Number(_this2.person_ID.value));\n\n      _this2.serviceCar1.editCar(_this2.car_ID.value, newCar).then(r => {\n        if (filename.length > 0) {\n          _this2.serviceCar1.upload(_this2.car_ID.value);\n        }\n      }).then(r => {\n        _this2.router.navigate(['cars']);\n      });\n    })();\n  }\n\n}\n\nCarEditComponent.ɵfac = function CarEditComponent_Factory(t) {\n  return new (t || CarEditComponent)(i0.ɵɵdirectiveInject(i1.ServicepersonService), i0.ɵɵdirectiveInject(i2.ServicecarService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n\nCarEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarEditComponent,\n  selectors: [[\"app-car-edit\"]],\n  decls: 33,\n  vars: 10,\n  consts: [[\"id\", \"editCarModal\", 1, \"\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [3, \"ngSubmit\"], [1, \"modal-header\"], [1, \"modal-title\"], [1, \"modal-body\"], [1, \"form-group\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"formControl\"], [\"aria-label\", \"Default select example\", 1, \"form-select\", 3, \"formControl\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", \"id\", \"formFileDisabled\", 1, \"form-control\", 3, \"formControl\", \"disabled\", \"change\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"value\", \"Cancel\", 1, \"btn\", \"btn-default\", 3, \"routerLink\"], [\"type\", \"submit\", \"value\", \"Save\", 1, \"btn\", \"btn-info\"], [3, \"value\"]],\n  template: function CarEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CarEditComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onClickEdit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"h4\", 5);\n      i0.ɵɵtext(6, \"Edit Car\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 6)(9, \"div\", 7)(10, \"label\");\n      i0.ɵɵtext(11, \"ID Car\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\");\n      i0.ɵɵtext(15, \"Name Car\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 7)(18, \"label\");\n      i0.ɵɵtext(19, \"Plate Car\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 7)(22, \"label\");\n      i0.ɵɵtext(23, \"Person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"select\", 9);\n      i0.ɵɵtemplate(25, CarEditComponent_option_25_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 7)(27, \"label\");\n      i0.ɵɵtext(28, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"input\", 11);\n      i0.ɵɵlistener(\"change\", function CarEditComponent_Template_input_change_29_listener($event) {\n        return ctx.serviceCar1.handleFileInput($event.target.files);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(30, \"div\", 12);\n      i0.ɵɵelement(31, \"input\", 13)(32, \"input\", 14);\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"formControl\", ctx.car_ID);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.car_Name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.car_Plate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.person_ID)(\"ngModel\", ctx.person_IDold);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.serviceCar1.personA);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.car_ImageUrl)(\"disabled\", ctx.serviceCar1.working);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.FormControlDirective, i4.SelectControlValueAccessor, i5.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXItZWRpdC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["H:/code/RECORDP/ANGULAR/Project CarWebApi/CarProject1/src/app/car-edit/car-edit.component.ts"],"names":["FormControl","Car","i0","i1","i2","i3","i4","i5","CarEditComponent_option_25_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","pr_r1","$implicit","ɵɵproperty","person_ID","ɵɵadvance","ɵɵtextInterpolate","person_FName","person_LName","_c0","CarEditComponent","constructor","servicePerson1","serviceCar1","router","route","car_ImageUrl","car_ID","car_Name","car_Plate","person_IDold","car_ImageUrlold","ngOnInit","getPersonA","paramMap","subscribe","p","upCar","getCar","get","console","log","setValue","onClickEdit","car_ImageUrlFin","filename","value","replace","length","newCar","Number","editCar","then","r","upload","navigate","ɵfac","CarEditComponent_Factory","t","ɵɵdirectiveInject","ServicepersonService","ServicecarService","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","CarEditComponent_Template","ɵɵlistener","CarEditComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵtemplate","CarEditComponent_Template_input_change_29_listener","$event","handleFileInput","target","files","personA","working","ɵɵpureFunction0","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","FormControlDirective","SelectControlValueAccessor","NgForOf","NgSelectOption","ɵNgSelectMultipleOption","RouterLink","styles"],"mappings":"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","sourcesContent":["import { FormControl } from '@angular/forms';\r\nimport { Car } from '../models/car';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../models/serviceperson.service\";\r\nimport * as i2 from \"../models/servicecar.service\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"@angular/forms\";\r\nimport * as i5 from \"@angular/common\";\r\nfunction CarEditComponent_option_25_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 15);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const pr_r1 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", pr_r1.person_ID);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(pr_r1.person_FName + \" \" + pr_r1.person_LName);\r\n} }\r\nconst _c0 = function () { return [\"/cars\"]; };\r\nexport class CarEditComponent {\r\n    constructor(servicePerson1, serviceCar1, router, route) {\r\n        this.servicePerson1 = servicePerson1;\r\n        this.serviceCar1 = serviceCar1;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.car_ImageUrl = new FormControl('');\r\n        this.car_ID = new FormControl('');\r\n        this.car_Name = new FormControl('');\r\n        this.car_Plate = new FormControl('');\r\n        this.person_ID = new FormControl('');\r\n        this.person_IDold = \"\";\r\n        this.car_ImageUrlold = \"\";\r\n    }\r\n    ngOnInit() {\r\n        this.serviceCar1.getPersonA();\r\n        this.route.paramMap.subscribe(async (p) => {\r\n            const upCar = await this.serviceCar1.getCar(p.get('id'));\r\n            await console.log(upCar.car_ID);\r\n            this.car_ID.setValue(upCar.car_ID);\r\n            this.car_Name.setValue(upCar.car_Name);\r\n            this.car_Plate.setValue(upCar.car_Plate);\r\n            this.car_ImageUrlold = upCar.car_ImageUrl;\r\n            //this.car_ImageUrl.setValue((await upCar).car_ImageUrl)\r\n            this.person_IDold = upCar.person_ID;\r\n            //this.person_ID.setValue((await upCar).person_ID)\r\n        });\r\n    }\r\n    async onClickEdit() {\r\n        var car_ImageUrlFin;\r\n        var filename = this.car_ImageUrl.value.replace(/^.*[\\\\\\/]/, '');\r\n        if (filename.length == 0) {\r\n            car_ImageUrlFin = this.car_ImageUrlold;\r\n        }\r\n        else {\r\n            car_ImageUrlFin = filename;\r\n        }\r\n        var newCar = new Car(Number(this.car_ID.value), this.car_Name.value, this.car_Plate.value, car_ImageUrlFin, Number(this.person_ID.value));\r\n        this.serviceCar1.editCar(this.car_ID.value, newCar).then(r => {\r\n            if (filename.length > 0) {\r\n                this.serviceCar1.upload(this.car_ID.value);\r\n            }\r\n        }).then(r => {\r\n            this.router.navigate(['cars']);\r\n        });\r\n    }\r\n}\r\nCarEditComponent.ɵfac = function CarEditComponent_Factory(t) { return new (t || CarEditComponent)(i0.ɵɵdirectiveInject(i1.ServicepersonService), i0.ɵɵdirectiveInject(i2.ServicecarService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute)); };\r\nCarEditComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CarEditComponent, selectors: [[\"app-car-edit\"]], decls: 33, vars: 10, consts: [[\"id\", \"editCarModal\", 1, \"\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [3, \"ngSubmit\"], [1, \"modal-header\"], [1, \"modal-title\"], [1, \"modal-body\"], [1, \"form-group\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"formControl\"], [\"aria-label\", \"Default select example\", 1, \"form-select\", 3, \"formControl\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", \"id\", \"formFileDisabled\", 1, \"form-control\", 3, \"formControl\", \"disabled\", \"change\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"value\", \"Cancel\", 1, \"btn\", \"btn-default\", 3, \"routerLink\"], [\"type\", \"submit\", \"value\", \"Save\", 1, \"btn\", \"btn-info\"], [3, \"value\"]], template: function CarEditComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\r\n        i0.ɵɵlistener(\"ngSubmit\", function CarEditComponent_Template_form_ngSubmit_3_listener() { return ctx.onClickEdit(); });\r\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"h4\", 5);\r\n        i0.ɵɵtext(6, \"Edit Car\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 6)(9, \"div\", 7)(10, \"label\");\r\n        i0.ɵɵtext(11, \"ID Car\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(12, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\");\r\n        i0.ɵɵtext(15, \"Name Car\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(16, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"div\", 7)(18, \"label\");\r\n        i0.ɵɵtext(19, \"Plate Car\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(20, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"div\", 7)(22, \"label\");\r\n        i0.ɵɵtext(23, \"Person\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"select\", 9);\r\n        i0.ɵɵtemplate(25, CarEditComponent_option_25_Template, 2, 2, \"option\", 10);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(26, \"div\", 7)(27, \"label\");\r\n        i0.ɵɵtext(28, \"Phone\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"input\", 11);\r\n        i0.ɵɵlistener(\"change\", function CarEditComponent_Template_input_change_29_listener($event) { return ctx.serviceCar1.handleFileInput($event.target.files); });\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(30, \"div\", 12);\r\n        i0.ɵɵelement(31, \"input\", 13)(32, \"input\", 14);\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"formControl\", ctx.car_ID);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"formControl\", ctx.car_Name);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"formControl\", ctx.car_Plate);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"formControl\", ctx.person_ID)(\"ngModel\", ctx.person_IDold);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.serviceCar1.personA);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"formControl\", ctx.car_ImageUrl)(\"disabled\", ctx.serviceCar1.working);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\r\n    } }, directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.FormControlDirective, i4.SelectControlValueAccessor, i5.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i3.RouterLink], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXItZWRpdC5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}